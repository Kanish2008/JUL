<!DOCTYPE html>
<html lang="no">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>V√•rt Julealbum 2024 ‚ù§Ô∏è</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(to bottom, #8b0000 0%, #114026 100%);
            color: #e6eef8;
            min-height: 100vh;
        }

        .header {
            text-align: center;
            padding: 40px 20px;
            background: rgba(0,0,0,0.2);
        }

        .header h1 {
            font-size: 3rem;
            color: #ffd700;
            margin-bottom: 10px;
            text-shadow: 0 2px 10px rgba(0,0,0,0.5);
        }

        .header p {
            font-size: 1.2rem;
            color: #fff;
        }

        .intro {
            max-width: 800px;
            margin: 30px auto;
            padding: 30px;
            background: rgba(255,255,255,0.1);
            border-radius: 15px;
            text-align: center;
        }

        .intro h2 {
            color: #ffd700;
            margin-bottom: 15px;
        }

        .intro p {
            line-height: 1.8;
            font-size: 1.1rem;
        }

        .gallery {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
            max-width: 1400px;
            margin: 50px auto;
            padding: 0 20px 50px;
        }

        .gallery-item {
            position: relative;
            overflow: hidden;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.4);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            background: rgba(0,0,0,0.3);
            cursor: pointer;
        }

        .gallery-item:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 15px 40px rgba(255,215,0,0.3);
        }

        .gallery-item img {
            width: 100%;
            height: 350px;
            object-fit: cover;
            display: block;
            transition: transform 0.3s ease;
        }

        .gallery-item:hover img {
            transform: scale(1.1);
        }

        .gallery-item .caption {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(transparent, rgba(0,0,0,0.8));
            color: white;
            padding: 15px;
            transform: translateY(100%);
            transition: transform 0.3s ease;
        }

        .gallery-item:hover .caption {
            transform: translateY(0);
        }

        .loading {
            text-align: center;
            padding: 50px;
            font-size: 1.5rem;
            color: #ffd700;
        }

        .error {
            display: none !important;
        }

        .lightbox {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.95);
            z-index: 1000;
            padding: 20px;
            align-items: center;
            justify-content: center;
        }

        .lightbox.active {
            display: flex;
        }

        .lightbox img {
            max-width: 90%;
            max-height: 90vh;
            border-radius: 10px;
            box-shadow: 0 0 50px rgba(255,215,0,0.3);
        }

        .lightbox-close {
            position: fixed;
            top: 20px;
            right: 30px;
            font-size: 40px;
            color: #ffd700;
            cursor: pointer;
            z-index: 1001;
        }

        .lightbox-nav {
            position: fixed;
            top: 50%;
            transform: translateY(-50%);
            font-size: 50px;
            color: #ffd700;
            cursor: pointer;
            padding: 20px;
            user-select: none;
        }

        .lightbox-prev { left: 20px; }
        .lightbox-next { right: 20px; }

        .footer {
            text-align: center;
            padding: 40px 20px;
            background: rgba(0,0,0,0.3);
            margin-top: 50px;
        }

        .footer p {
            margin: 10px 0;
            font-size: 1.1rem;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üéÑ V√•rt Julealbum 2024 üéÑ</h1>
        <p>‚ù§Ô∏è Meghna & Kanish ‚ù§Ô∏è</p>
        <p>En reise gjennom v√•r magiske vinter sammen</p>
    </div>

    <div class="intro">
        <h2>Til min one and only Pondati ‚ù§Ô∏è</h2>
        <p>
            Dette er tin gvi har gjort sammmen i julen ma, og jeg ville bare si hvor mye jeg elsker deg og hvordan ingen har f√•tt meg til √• f√∏le meg s√• bra som du gj√∏r. jeg elsker deg s√• mye thangam og jeg gj√∏r hva som helst for √• aldri miste deg kuttyma, my one and only pondati, amma i love you...
        </p>
        <p style="margin-top: 20px; font-style: italic;">
            God jul, min elskede! üéÑ‚ú®
        </p>
    </div>

    <div class="loading" id="loading">Laster bilder... ‚è≥</div>

    <div class="gallery" id="gallery"></div>

    <div class="footer">
        <p>üéÖ God Jul & Godt Nytt√•r 2025 üéÖ</p>
        <p style="color: #ffd700; font-size: 1.3rem;">All My Love, Forever ‚ù§Ô∏è</p>
        <p style="margin-top: 20px;">Made with ‚ù§Ô∏è for Meghna</p>
    </div>

    <div class="lightbox" id="lightbox">
        <span class="lightbox-close" id="close">√ó</span>
        <span class="lightbox-nav lightbox-prev" id="prev">‚ùÆ</span>
        <span class="lightbox-nav lightbox-next" id="next">‚ùØ</span>
        <img src="" alt="" id="lightbox-img">
    </div>

    <script>
        // Liste over alle bilder som FAKTISK fungerer i nettlesere
        // Fjernet: BILDE 2, 29-31, 34, 37, 39, 41, 43-44, 45, 47, 49-50 (HEIC eller korrupte)
        const imageNumbers = [1, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 
                             21, 22, 23, 24, 25, 26, 27, 28, 32, 33, 35, 36, 38, 40, 
                             42, 46, 48, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 
                             61, 62, 63, 64, 65];
        
        const images = [];
        imageNumbers.forEach(i => {
            images.push({
                src: `bilder/BILDE_${i}.jpg`,
                alt: `Juleminne ${i} - V√•re vakre minner sammen ‚ù§Ô∏è`
            });
        });

        // Legg til videoer 1-14 (de som finnes vil vises, resten hoppes over)
        const videoNumbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14];
        videoNumbers.forEach(i => {
            images.push({
                src: `bilder/video ${i}.mp4`,
                alt: `Julevideo ${i} - V√•re magiske √∏yeblikk`,
                type: 'video'
            });
        });

        const gallery = document.getElementById('gallery');
        const loading = document.getElementById('loading');
        const lightbox = document.getElementById('lightbox');
        const lightboxImg = document.getElementById('lightbox-img');
        const close = document.getElementById('close');
        const prev = document.getElementById('prev');
        const next = document.getElementById('next');

        let currentIndex = 0;
        let loadedCount = 0;

        // Last inn alle bilder
        images.forEach((media, index) => {
            const item = document.createElement('div');
            item.className = 'gallery-item';

            if (media.type === 'video') {
                const video = document.createElement('video');
                video.muted = true;
                video.loop = true;
                video.style.width = '100%';
                video.style.height = '350px';
                video.style.objectFit = 'cover';
                
                const source = document.createElement('source');
                source.src = media.src;
                source.type = 'video/mp4';
                video.appendChild(source);
                
                // H√•ndter video lasting
                video.onloadeddata = function() {
                    item.appendChild(video);
                    const caption = document.createElement('div');
                    caption.className = 'caption';
                    caption.textContent = media.alt;
                    item.appendChild(caption);
                    gallery.appendChild(item);
                };
                
                video.onerror = function() {
                    // Video finnes ikke - hopp over
                    console.log('Hopper over video:', media.src);
                };
                
                video.load();
                
                item.addEventListener('mouseenter', () => video.play().catch(() => {}));
                item.addEventListener('mouseleave', () => {
                    video.pause();
                    video.currentTime = 0;
                });
            } else {
                const img = document.createElement('img');
                img.alt = media.alt;
                
                img.onload = function() {
                    loadedCount++;
                    if (loadedCount >= 45) { // 47 bilder + 2 videoer = 49 totalt, men teller kun bilder
                        loading.style.display = 'none';
                    }
                    item.appendChild(img);
                    const caption = document.createElement('div');
                    caption.className = 'caption';
                    caption.textContent = media.alt;
                    item.appendChild(caption);
                    gallery.appendChild(item);
                };

                img.onerror = function() {
                    loadedCount++;
                    if (loadedCount >= 45) {
                        loading.style.display = 'none';
                    }
                    // IKKE vis bilder som feiler - bare ignorer dem
                    console.log('Hoppet over bilde:', media.src);
                };

                img.src = media.src;

                item.addEventListener('click', () => {
                    if (!item.classList.contains('error') && img.complete) {
                        currentIndex = index;
                        showLightbox();
                    }
                });
            }
        });

        function showLightbox() {
            const media = images[currentIndex];
            if (media.type !== 'video') {
                lightboxImg.src = media.src;
                lightbox.classList.add('active');
            }
        }

        function hideLightbox() {
            lightbox.classList.remove('active');
        }

        function showNext() {
            do {
                currentIndex = (currentIndex + 1) % images.length;
            } while (images[currentIndex].type === 'video');
            showLightbox();
        }

        function showPrev() {
            do {
                currentIndex = (currentIndex - 1 + images.length) % images.length;
            } while (images[currentIndex].type === 'video');
            showLightbox();
        }

        close.addEventListener('click', hideLightbox);
        next.addEventListener('click', showNext);
        prev.addEventListener('click', showPrev);
        lightbox.addEventListener('click', (e) => {
            if (e.target === lightbox) hideLightbox();
        });

        document.addEventListener('keydown', (e) => {
            if (!lightbox.classList.contains('active')) return;
            if (e.key === 'Escape') hideLightbox();
            if (e.key === 'ArrowRight') showNext();
            if (e.key === 'ArrowLeft') showPrev();
        });

        console.log(`Laster ${images.length} media-filer...`);
    </script>
</body>
</html>
